<?php

$type = get_field('type') ?? 'high_imact';
$text = get_field('text');
$name = get_field('name');
$tag = get_field('tag');
$image = get_field('main_image');
$bg_image = get_field('background_image');
$block_id = uniqid('quote-');
?>

<section id="<?= $block_id ?>">

    <?php if ($type === 'high_imact') : ?>
        <div class="grid grid-cols-2">
            <?php if ($image) {
                get_template_part('template-parts/components/image', '', array(
                    'image_id' => $image["id"],
                    'image_class' => 'w-full',
                    'image_size' => 'medium',
                ));
            }
            ?>
            <div class="relative w-full h-[92%] self-end grid space-y-5 place-content-center text-center px-5">
                <svg class="mx-auto" width="63" height="53" viewBox="0 0 63 53" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M32.9322 37.5595C32.9322 39.574 33.315 41.4676 34.0805 43.2404C34.8863 45.0131 35.9439 46.5643 37.2533 47.8938C38.5627 49.2234 40.1239 50.2709 41.937 51.0364C43.7097 51.8422 45.6033 52.2451 47.6178 52.2451C49.6323 52.2451 51.5259 51.8422 53.2986 51.0364C55.1117 50.2709 56.6829 49.2234 58.0125 47.8938C59.3421 46.5643 60.3896 45.0131 61.1551 43.2404C61.9206 41.4676 62.3033 39.574 62.3033 37.5595C62.3033 35.5048 61.9206 33.591 61.1551 31.8183C60.3896 30.0455 59.3421 28.4944 58.0125 27.1648C56.6829 25.8353 55.1318 24.7877 53.3591 24.0222C51.546 23.2567 49.6323 22.874 47.6178 22.874C47.1343 22.874 46.6508 22.8941 46.1674 22.9344C45.6839 22.9747 45.1803 23.0553 44.6565 23.1762C45.0997 21.2423 45.6436 19.4091 46.2882 17.6766C46.8926 15.9442 47.5372 14.3326 48.2221 12.8419C48.9071 11.3512 49.592 9.98132 50.2769 8.73234C50.9618 7.52365 51.546 6.47613 52.0295 5.58975C52.3115 5.14657 52.5533 4.7336 52.7547 4.35085C52.9562 3.9681 53.1375 3.63571 53.2986 3.35368C53.4195 3.11195 53.5404 2.75941 53.6612 2.29608C53.7821 1.83275 53.6411 1.43993 53.2382 1.11761C53.1173 0.996742 52.9864 0.906091 52.8454 0.845656C52.7044 0.785222 52.5533 0.755005 52.3921 0.755005C52.1101 0.755005 51.7978 0.845656 51.4554 1.02696C51.1129 1.20826 50.8007 1.39964 50.5186 1.60109C50.1157 1.84282 49.6121 2.17521 49.0078 2.59825C48.4034 3.02129 47.6178 3.59542 46.6508 4.32063L46.5904 4.38107C44.858 5.91207 43.2867 7.57402 41.8765 9.3669C40.4664 11.1598 39.2174 13.0433 38.1296 15.0175C37.2432 16.6291 36.4677 18.3112 35.8029 20.0638C35.1381 21.8164 34.5841 23.6193 34.1409 25.4727C33.4157 28.4541 33.0229 31.0427 32.9625 33.2385C32.902 35.4343 32.892 36.8746 32.9322 37.5595ZM36.3166 26.0166C36.8 24.0424 37.4044 22.1286 38.1296 20.2753C38.8548 18.4623 39.7009 16.7198 40.6678 15.0477C41.6348 13.3757 42.7428 11.7943 43.9917 10.3036C45.2004 8.81292 46.53 7.42293 47.9804 6.13366C48.2221 5.93222 48.5243 5.70055 48.8869 5.43867C49.2495 5.17679 49.6323 4.90483 50.0352 4.6228C49.4711 5.63004 48.8063 6.81859 48.0408 8.18843C47.3156 9.55828 46.5703 11.0893 45.8048 12.7814C45.0393 14.4736 44.3342 16.3068 43.6896 18.281C43.0046 20.2552 42.4809 22.3502 42.1183 24.5661L41.8161 26.4396L43.5687 25.7748C44.2536 25.5734 44.9285 25.4122 45.5932 25.2914C46.258 25.1705 46.9329 25.1101 47.6178 25.1101C49.31 25.1101 50.9215 25.4324 52.4525 26.077C53.9433 26.7216 55.2527 27.608 56.3808 28.7361C57.5089 29.8642 58.3953 31.1938 59.0399 32.7248C59.6845 34.2155 60.0068 35.8271 60.0068 37.5595C60.0068 39.2517 59.6845 40.8633 59.0399 42.3943C58.3953 43.885 57.5089 45.1944 56.3808 46.3225C55.2527 47.4506 53.9433 48.337 52.4525 48.9816C50.9618 49.6263 49.3502 49.9486 47.6178 49.9486C45.9256 49.9486 44.314 49.6263 42.783 48.9816C41.2923 48.337 39.9829 47.4506 38.8548 46.3225C37.7267 45.1944 36.8403 43.885 36.1957 42.3943C35.5108 40.9036 35.1683 39.292 35.1683 37.5595V37.4991V37.4387V37.3782C35.128 36.7739 35.1381 35.4343 35.1985 33.3593C35.259 31.2844 35.6316 28.8368 36.3166 26.0166ZM0.720722 37.4991C0.720722 39.5539 1.10347 41.4676 1.86897 43.2404C2.63448 45.0131 3.682 46.5643 5.01156 47.8938C6.34112 49.2234 7.89227 50.2709 9.66501 51.0364C11.478 51.8019 13.3918 52.1847 15.4063 52.1847C17.4208 52.1847 19.3144 51.8019 21.0871 51.0364C22.8598 50.2709 24.411 49.2234 25.7406 47.8938C27.0701 46.5643 28.1176 45.0131 28.8831 43.2404C29.6486 41.4676 30.0314 39.574 30.0314 37.5595C30.0314 35.5048 29.6486 33.591 28.8831 31.8183C28.1176 30.0455 27.0701 28.4944 25.7406 27.1648C24.411 25.8353 22.8598 24.7877 21.0871 24.0222C19.3144 23.2567 17.4208 22.874 15.4063 22.874C14.9228 22.874 14.4292 22.8941 13.9256 22.9344C13.422 22.9747 12.9285 23.0553 12.445 23.1762C12.8882 21.2423 13.4119 19.4091 14.0163 17.6766C14.6609 15.9442 15.3257 14.3326 16.0106 12.8419C16.6955 11.3512 17.3805 10.0015 18.0654 8.79278C18.71 7.5438 19.2942 6.47613 19.818 5.58975C20.1 5.14657 20.3417 4.74367 20.5432 4.38107C20.7446 4.01846 20.9058 3.69614 21.0267 3.41412C21.1475 3.13209 21.2785 2.75941 21.4195 2.29608C21.5605 1.83275 21.4296 1.43993 21.0267 1.11761C20.9058 0.996742 20.7749 0.906091 20.6338 0.845656C20.4928 0.785222 20.3417 0.755005 20.1806 0.755005C19.8583 0.755005 19.536 0.845656 19.2136 1.02696C18.8913 1.20826 18.569 1.39964 18.2467 1.60109C17.8438 1.84282 17.3502 2.17521 16.766 2.59825C16.1818 3.02129 15.3861 3.59542 14.3789 4.32063L14.3185 4.38107C12.6263 5.91207 11.0751 7.57402 9.66501 9.3669C8.25487 11.1598 7.00589 13.0433 5.91808 15.0175C5.0317 16.6291 4.25613 18.3112 3.59135 20.0638C2.92657 21.8164 2.37259 23.6193 1.92941 25.4727C1.2042 28.4541 0.811371 31.0427 0.750938 33.2385C0.690502 35.4343 0.680431 36.8545 0.720722 37.4991ZM4.10505 26.0166C4.54823 24.0021 5.15257 22.0883 5.91808 20.2753C6.64329 18.4623 7.48937 16.7198 8.45632 15.0477C9.42327 13.3757 10.5111 11.7943 11.7198 10.3036C12.9688 8.81292 14.3185 7.40279 15.7689 6.07323C16.0106 5.91207 16.3128 5.70055 16.6754 5.43867C17.038 5.17679 17.4208 4.90483 17.8236 4.6228C17.2596 5.58975 16.5948 6.7783 15.8293 8.18843C15.0638 9.55828 14.3084 11.0893 13.563 12.7814C12.8177 14.4736 12.1227 16.3068 11.478 18.281C10.7931 20.2552 10.2694 22.3301 9.90675 24.5057L9.54414 26.3792L11.3572 25.7748C12.0018 25.5734 12.6666 25.4122 13.3515 25.2914C14.0364 25.1705 14.7214 25.1101 15.4063 25.1101C17.0984 25.1101 18.6899 25.4324 20.1806 26.077C21.7116 26.7216 23.0411 27.608 24.1693 28.7361C25.2974 29.8642 26.1837 31.1938 26.8284 32.7248C27.473 34.2155 27.7953 35.8271 27.7953 37.5595C27.7953 39.2517 27.473 40.8633 26.8284 42.3943C26.1837 43.885 25.2974 45.1944 24.1693 46.3225C23.0411 47.4506 21.7317 48.337 20.241 48.9816C18.71 49.6263 17.0984 49.9486 15.4063 49.9486C13.6738 49.9486 12.0622 49.6263 10.5715 48.9816C9.04052 48.337 7.71096 47.4506 6.58286 46.3225C5.45475 45.1944 4.56837 43.885 3.92374 42.3943C3.27911 40.8633 2.95679 39.2517 2.95679 37.5595V37.4387V37.3782C2.9165 36.7739 2.92657 35.4343 2.98701 33.3593C3.04744 31.2844 3.42012 28.8368 4.10505 26.0166Z" fill="#FF6400" />
                </svg>

                <div class=" mx-auto md:max-w-[450px] !text-xl"> <?= $text ?></div>
                <div class="flex flex-col gap-2">
                    <p class="h5 !text-white"><?= $name ?> -</p>
                    <?php if ($tag["link"]) : ?>
                        <a href="<?= $tag['link'] ?>" class="!no-underline !font-bold !text-primary"><?= $tag["tag_text"] ?></a>
                    <?php else : ?>
                        <p class=" !font-bold !text-primary">a<?= $tag["tag_text"] ?></p>
                    <?php endif; ?>
                </div>
                <div class="inset-0 opacity-40 saturate-0 bg-cover absolute" style="background-image: url(<?= $bg_image['url'] ?>)"></div>
            </div>
        </div>
    <?php elseif ($type === 'low_impact') : ?>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-0.5">
            <div>
                <?= $text ?>
            </div>

            <div class="flex gap-2 items-center justify-center">
                <p class="h5"><?= $name ?></p>
                <?php if ($tag["link"]) : ?>
                    <a href="<?= $tag['link'] ?>" class="!no-underline small text-white"> -<?= $tag["tag_text"] ?></a>
                <?php else : ?>
                    <p class="small text-white"> -<?= $tag["tag_text"] ?></p>
                <?php endif; ?>
            </div>
        </div>




    <?php endif; ?>
    <?php
    get_template_part('template-parts/styles/margin-styles', '', array(
        'section_id' => $block_id,
    ));
    ?>
</section>